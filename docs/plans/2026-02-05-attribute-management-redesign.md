# 属性管理页面重设计

## 概述

将属性管理页面从折叠列表改为左右分栏 Master-Detail 布局，提升信息层级清晰度和操作效率。

## 布局结构

```
┌─────────────────────────────────────────────────────────────────────┐
│  [齿轮图标] 属性管理                              [+ 添加属性]      │
│  管理商品属性和选项                                                 │
├─────────────────────────────────────────────────────────────────────┤
│  ┌──────────────────────┐  ┌──────────────────────────────────────┐ │
│  │   属性列表 (左栏)    │  │       选项详情 (右栏)                │ │
│  │   宽度: ~280px       │  │       宽度: flex-1                   │ │
│  └──────────────────────┘  └──────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────┘
```

- **左栏**: 固定 280px，带内部滚动，显示属性列表
- **右栏**: flex-1 占满剩余空间，显示选中属性的选项详情
- 两栏之间用细分割线 (`border-r`)
- 左栏背景略深 (`bg-gray-50`)，右栏纯白

## 左栏 - 属性列表

### 列表项结构

```
┌────────────────────────────┐
│ ● 辣度            🔢 💰   │  ← 名称 + 特殊功能图标
│   单选 · 必选 · 3选项     │  ← 类型 + 选项数
└────────────────────────────┘
```

### 信息展示

- **第一行**: 属性名称 + 特殊功能图标
  - 🔢 数量控制 (如果任一选项启用)
  - 💰 价格调整 (如果任一选项有非零价格)
  - 🍳 厨房打印 / 🧾 收据打印
- **第二行**: 选择类型 (单选/多选) + 必选/可选 + 选项数量

### 交互

- 点击整行选中该属性
- 选中状态: 左侧 3px 主题色竖条 + 浅色背景
- 悬停: 轻微背景变化

## 右栏 - 选项详情

### 结构

1. **顶部**: 属性名称 (大号) + [编辑] [删除] 按钮
2. **元信息条**: 选择类型、收据/厨房打印名称
3. **选项列表**: 每个选项一张卡片

### 选项卡片

```
┌────────────────────────────────────────────────────────────┐
│ ⭐ 芝士                                         +3,00 €   │
│    🔢 数量控制: 1~10                                      │
│    收据名: 芝士 │ 厨房名: 加芝士               [编辑][删] │
└────────────────────────────────────────────────────────────┘
```

- **第一行**: 默认标记 ⭐ + 选项名 + 价格调整 (右对齐)
- **第二行**: 数量控制信息 (如果启用)
- **第三行**: 收据名/厨房名 + 操作按钮

### 颜色约定

- 价格增加: `text-orange-600`
- 价格减少: `text-green-600`
- 默认星标: `text-amber-500`

## 空状态

### 无属性 (整个页面)

居中显示设置图标 + "还没有属性" + [+ 添加属性] 按钮

### 未选中属性 (右栏)

居中显示 "请从左侧选择一个属性"

### 属性无选项 (右栏列表区)

虚线边框 + "暂无选项" + [+ 添加第一个选项] 链接

## 交互细节

| 操作 | 行为 |
|------|------|
| 点击左栏属性 | 选中并在右栏显示详情 |
| 点击 [+ 添加选项] | 打开 OptionForm 弹窗 |
| 点击属性 [编辑] | 打开 AttributeForm 弹窗 |
| 点击选项 ⭐ 星标 | 切换默认状态 (直接调用 API) |
| 删除属性 | 确认弹窗 → 删除后清空右栏 |
| 添加新属性 | 创建后自动选中该属性 |

## 实现计划

1. 重构 `AttributeManagement.tsx` 为左右分栏布局
2. 提取 `AttributeListPanel.tsx` 组件 (左栏)
3. 提取 `AttributeDetailPanel.tsx` 组件 (右栏)
4. 添加 `selectedAttributeId` 状态管理
5. 保留现有 `AttributeForm` 和 `OptionForm` 弹窗
