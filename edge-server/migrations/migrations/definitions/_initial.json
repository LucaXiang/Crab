{"schemas":"DEFINE TABLE OVERWRITE employee TYPE NORMAL SCHEMAFULL\n\tPERMISSIONS\n    // 只有 管理员才能访问\n\t\tFOR select, create, update, delete\n\t\t\tWHERE $auth.role = role:admin OR $auth.id = employee:admin\n;\nDEFINE FIELD OVERWRITE username ON employee TYPE string ASSERT string::len($value) > 0\n\tPERMISSIONS FULL\n;\nDEFINE FIELD OVERWRITE hash_pass ON employee TYPE string ASSERT string::len($value) > 0\n\tPERMISSIONS FULL\n;\nDEFINE FIELD OVERWRITE role ON employee TYPE record<role>\n\tPERMISSIONS FULL\n;\nDEFINE FIELD OVERWRITE is_system ON employee TYPE bool DEFAULT false\n\tPERMISSIONS NONE\n;\nDEFINE FIELD OVERWRITE is_active ON employee TYPE bool DEFAULT true\n\tPERMISSIONS FULL\n;\nDEFINE INDEX OVERWRITE username_unique ON employee FIELDS username UNIQUE;\nDEFINE TABLE OVERWRITE role TYPE NORMAL SCHEMAFULL\n\tPERMISSIONS\n\t\tFOR select,create, update, delete\n\t\t\tWHERE $auth.role = role:admin OR $auth.id = employee:admin\n;\nDEFINE FIELD OVERWRITE role_name ON role TYPE string ASSERT string::len($value) > 0\n\tPERMISSIONS FULL\n;\nDEFINE FIELD OVERWRITE permissions ON role TYPE array<string>\n\tPERMISSIONS FULL\n;\nDEFINE FIELD OVERWRITE is_system ON role TYPE bool DEFAULT false\n\tPERMISSIONS NONE\n;\nDEFINE FIELD OVERWRITE is_active ON role TYPE bool DEFAULT true\n\tPERMISSIONS FULL\n;\nDEFINE INDEX OVERWRITE role_name_unique ON role FIELDS role_name UNIQUE;\nDEFINE TABLE OVERWRITE script_migration SCHEMAFULL\n    PERMISSIONS\n        FOR select FULL\n        FOR create, update, delete NONE;\n\nDEFINE FIELD OVERWRITE script_name ON script_migration TYPE string;\nDEFINE FIELD OVERWRITE executed_at ON script_migration TYPE datetime VALUE time::now() READONLY;\nDEFINE FIELD OVERWRITE checksum ON script_migration TYPE option<string>;\n","events":""}